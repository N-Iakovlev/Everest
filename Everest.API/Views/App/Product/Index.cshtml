@using Everest.API
@using Everest.Domain
@using Incoding.Web.Extensions

<div class="d-flex gap-1 padding-05 overflow-x-hidden" id="products">
    <div>
        @(Html.When(JqueryBind.KeyUp)
            .Ajax(Url.Dispatcher().Query(new GetProductQuery()).AsJson().AppendToQueryString(new { Search = Selector.Jquery.Self() }))
            .OnSuccess(dsl => { dsl.WithId("products").Insert.WithTemplateByView("~/Views/App/Product/Tmpl.cshtml").Html(); })
            .AsHtmlAttributes(new { placeholder = @DataResource.Search })
            .ToInput(HtmlInputType.Text, String.Empty))
        <div>
            @(Html.When(JqueryBind.InitIncoding)
                .Ajax(new GetProductQuery())
                .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Product/Tmpl.cshtml").Html())
                .AsHtmlAttributes(new { @class = "d-flex gap-1 padding-05 overflow-x-hidden", id = "products" })
                .ToDiv())
        </div>
    </div>
</div>

