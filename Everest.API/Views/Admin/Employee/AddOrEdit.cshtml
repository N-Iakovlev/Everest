@using Everest.API
@using Everest.Domain
@model Everest.Domain.AddOrEditEmployeeCommand
@{
    Layout = "~/Views/Shared/_DialogLayout.cshtml";
    ViewData["Title"] = DataResource.Add;
    ViewData["Url"] = Url.Dispatcher().Push<AddOrEditEmployeeCommand>();
    ViewData["TriggerId"] = nameof(GetEmployeesQuery);
}

@Html.HiddenFor(q=>q.Id)
@Html.ForGroup(q => q.FirstName).TextBox(control => { control.Label.Name = DataResource.First; })
@Html.ForGroup(q => q.LastName).TextBox(control => { control.Label.Name = DataResource.Last; })
@Html.ForGroup(q => q.Avatar).File(control => { control.Label.Name = DataResource.Avatar; })
@Html.ForGroup(q => q.Phone).TextBox(control => { control.Label.Name = DataResource.Phone; })
@Html.ForGroup(q => q.Email).TextBox(control => { control.Label.Name = DataResource.Email; })
@Html.ForGroup(q => q.CategoryId).DropDown(control =>
{
    control.Label.Name = DataResource.Category;
    control.Input.Data = Html.Dispatcher().Query(new GetCategoryForDDQuery() { Type = Category.OfType.Employee });
})

