@model Everest.API.DropDownModel 
<div class="dropdown">
    <button class="btn" data-bs-toggle="dropdown" aria-expanded="false">
        <span class=@Model.ClassIcon>@Model.Icon</span>
        <span> @Model.Text</span>
    </button>
    <ul class="dropdown-menu">
        @if (Model.Items != null) 
        {
        @foreach (var item in Model.Items)
        {
            <li>
                <a class="dropdown-item" href="javascript:void(0)" data-value="@item?.Value">@item?.Text</a> 
            </li>
        }
        }
    </ul>

    <!-- Проверяем, что Url и Template не null перед использованием -->
    @if (Model.Url != null && Model.Template != null)
    {
        @(Html.When(JqueryBind.Click)
            .Ajax(Model.Url)
            .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView(Model.Template))
            .AsHtmlAttributes(new { @class = "dropdown-item"})
            .ToTag(HtmlTag.Ul))
    }
</div>