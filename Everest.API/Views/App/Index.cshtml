@using Everest.API
@using Everest.Domain
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- Navbar -->
<div class="header">
    <div class="d-flex gap-05">
        <a href="@Url.Action("Main", "Home")" class="btn">
            <span class="material-symbols-outlined">
                home
            </span>
            <span>@DataResource.Main</span>
        </a>
        <a href="#content-products" class="btn">@DataResource.Product</a>
        <a href="#content-about" class="btn">@DataResource.About</a>
    </div>
    <div class="d-flex gap-05" style="margin-left: auto;">
        <a href="#contacts" class="btn">@DataResource.Contacts</a>

        @(Html.When(JqueryBind.Click)
                .OnSuccess(dsl => dsl.Document.PushState(Url.Dispatcher().AsView("~/Views/App/Cart/Index.cshtml"), "Cart"))
                .AsHtmlAttributes(new {
                href = @Url.Action("Cart", "Home"),
                    @class = "btn"})
                .ToTag(HtmlTag.A,
                    @<span>
                        <span class="material-symbols-outlined">shopping_cart</span>
                        @DataResource.Cart
                    </span>))
        

        <a href="@Url.Action("Admin", "Home")" class="btn">
            <span>@DataResource.Admin</span>
        </a>
    </div>
</div>
<!-- /navbar -->

<!-- Body -->
<div class="body d-flex-column">
    <div id="content-info" class="height-full">
        <div class="carousel">
            <a class="prev btn" id="carousel-prev">
                <span class="material-symbols-outlined">
                    chevron_left
                </span>
            </a>
            <div class="d-flex overflow-x-hidden" id="carousel-container">
                @(Html.When(JqueryBind.InitIncoding)
                    .Ajax(new GetContentQuery())
                    .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Content/Tmpl.cshtml").Html())
                    .AsHtmlAttributes(new { @class = "d-flex overflow-x-hiddenn", id = "carousel-container" })
                    .ToDiv())
            </div>
            <a class="next btn" id="carousel-next">
                <span class="material-symbols-outlined">
                    chevron_right
                </span>
            </a>
        </div>
    </div>
    <div id="content-partners" class="d-flex-column gap-1 padding-1">
        <h1>
            @DataResource.Partners
        </h1>
        @(Html.When(JqueryBind.InitIncoding)
            .Ajax(new GetPartnerQuery())
            .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Partners/Tmpl.cshtml").Html())
            .AsHtmlAttributes(new { @class = "partners-list", id = "content-partners" })
            .ToDiv())


    </div>
    <div id="content-products" class="d-flex-column gap-1 padding-1">
        <h1>
            @DataResource.Product
        </h1>

        <div class="d-flex-column">
            <div class="d-flex gap-05 padding-05">
                <button class="btn">
                    <span class="material-symbols-outlined">
                        sort
                    </span>
                    <span>
                        Сортировка
                    </span>
                </button>

                <button class="btn">
                    <span class="material-symbols-outlined">
                        filter_list
                    </span>

                    <span>
                        Тип
                    </span>
                </button>
            </div>
            @(Html.When(JqueryBind.InitIncoding)
                .Ajax(new GetProductQuery())
                .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Product/Tmpl.cshtml").Html())
                .AsHtmlAttributes(new { @class = "d-flex gap-1 padding-05 overflow-x-hidden", id = "products" })
                .ToDiv())
            <div class="padding-05">
                <div class="d-flex gap-05 margin-l-auto width-fit">
                    <button class="btn" id="products-left">
                        <span class="material-symbols-outlined">
                            chevron_left
                        </span>
                    </button>

                    <button class="btn" id="products-right">
                        <span class="material-symbols-outlined">
                            chevron_right
                        </span>
                    </button>

                    <button class="btn">
                        Показать всё
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="content-contact" class="d-flex-column gap-1 padding-1">
        <h1>
            Остались вопросы?
        </h1>

        <div class="d-flex-column gap-1">
            <span>
                Позвоните по номеру +7 (000) 000-00-00 или напишите на почту mail@mail.com
            </span>

            <span>
                Или оставьте свои контакты и мы с Вами свяжемся.
            </span>

            <div class="width-half d-flex-column gap-1 padding-1 bg-white rounded">
                <div class="textbox">
                    <label>
                        Как к вам обращаться?
                    </label>

                    <input type="text" placeholder="Имя" />
                </div>

                <div class="textbox">
                    <label>
                        Как с вами связаться?
                    </label>

                    <input type="text" placeholder="Номер телефона, email" />
                </div>

                <div class="textbox">
                    <label>
                        Дополнительная информация
                    </label>

                    <textarea rows="8" placeholder="Опишите подробнее вашу проблему"></textarea>
                </div>

                <button class="btn width-fit align-self-end">
                    <span class="material-symbols-outlined">
                        mail
                    </span>

                    <span>
                        Отправить запрос
                    </span>
                </button>
            </div>
        </div>
    </div>
    <div id="content-about" class="d-flex-column gap-1 padding-1">
        <h1>
            @DataResource.About
        </h1>

        <div class="d-flex gap-1 about">
            <div class="d-flex-column gap-1 justify-content-between">
                <span>
                    Здание построено по проекту архитектора А. Т. Тимофеева в 1901 году по мотивам московско-ярославского зодчества XVII века.
                    <br />
                    <br />
                    Здание двухэтажное, кирпичное, в плане в форме буквы Г, имеет круговой опоясыващий и завершающий карнизы с сухариками. В здании высокие крыши со слуховыми окнами, широкие балконы по фасаду. На первом этаже здания — полуциркульные окна. Архитектурные элементы здания выделяются жёлтым и красным цветом. Территория перед музеем благоустроена. Здание имеет пристройки.
                </span>

                <span>
                    @DataResource.Adress: Советская улица, 1, Камышин, Волгоградская область
                </span>
            </div>

            <div class="d-flex-column gap-1">
                <img class="image shadowed" src="resources/images/kamyshyn.png" alt="photo">

                <img class="map shadowed" src="resources/images/map.png" alt="map">
            </div>
        </div>
    </div>
    <div id="content-peoples" class="d-flex-column gap-1 padding-1">
        <h1>
            @DataResource.Employee
        </h1>
          @(Html.When(JqueryBind.InitIncoding)
              .Ajax(new GetEmployeesQuery())
              .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Employee/Tmpl.cshtml").Html())
              .AsHtmlAttributes(new { @class = "d-flex justify-content-center gap-1"})
              .ToDiv())
    </div>
</div>
<!-- /body -->

<!-- Footer -->
<div class="footer" id="contacts">
    <div class="navigation">
        <span>@DataResource.Navigation</span>
        <a href="#content-info">@DataResource.Main</a>
        <a href="#content-partners">@DataResource.Partners</a>
        <a href="#content-products">@DataResource.Product</a>
        <a href="#content-contact">Оставить заявку</a>
        <a href="#content-about">@DataResource.About</a>
        <a href="#content-peoples">@DataResource.Employee</a>
        <a href="Cart">@DataResource.Cart</a>
    </div>
    <div class="d-flex-column gap-1 info">
        @(Html.When(JqueryBind.InitIncoding)
               .Ajax(new GetContactsQuery())
               .OnSuccess(dsl => dsl.Self().Insert.WithTemplateByView("~/Views/App/Contacts/Tmpl.cshtml").Html())
               .AsHtmlAttributes(new { @class = "d-flex-column gap-1 info" })
               .ToDiv())
    </div>
</div>
<!-- /footer -->